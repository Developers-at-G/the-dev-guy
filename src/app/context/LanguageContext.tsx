'use client';
import React, { createContext, useContext, useEffect, useState } from 'react';

type Language = 'en' | 'fr';

interface LanguageContextType {
  language: Language;
  toggleLanguage: () => void;
  setLanguage: (language: Language) => void;
  t: (key: string) => string;
}

export const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};

// Translation dictionary
const translations = {
  en: {
    // Navigation
    'nav.about': 'About',
    'nav.skills': 'Skills',
    'nav.experience': 'Experience',
    'nav.projects': 'Projects',
    'nav.education': 'Education',
    'nav.blog': 'Blog',
    'nav.contact': 'Contact',
    
    // Hero Section
    'hero.greeting': 'Hello, I\'m',
    'hero.title': 'Abdallah Amamou Gueye',
    'hero.subtitle': 'Full-Stack Developer',
    'hero.description': 'I build modern, scalable web applications with a focus on user experience and clean code.',
    'hero.cta': 'View My Work',
    'hero.scroll': 'Scroll to explore',
    'hero.how_i_build': 'How I Build with React & Next.js',
    'hero.engineering_approach': 'My engineering approach, explained for recruiters',
    
    // About Section
    'about.title': 'About Me',
    'about.subtitle': 'Passionate Full-Stack Developer',
    'about.description': 'I\'m a dedicated full-stack developer with a passion for creating innovative web solutions. I specialize in React, Next.js, and modern web technologies.',
    'about.experience': 'Years of Experience',
    'about.projects': 'Projects Completed',
    'about.skills': 'Technologies Mastered',
    
    // Profile Section
    'profile.software_engineer': 'Software Engineer',
    'profile.react_enthusiast': 'React Enthusiast',
    'profile.nextjs_developer': 'Next.js Developer',
    'profile.building_experiences': 'Building Exceptional Experiences',
    'profile.description': 'I craft digital products with modern technologies. Specialized in React, Next.js, and user-centered design principles.',
    'profile.about_me': 'About Me',
    'profile.about_description': 'I\'m Abdallah Amadou Gueye, a passionate software engineer from Senegal. With a Master\'s degree in Applied Computer Science, I specialize in UI/UX Design and Usability Engineering.',
    'profile.experience_description': 'I\'ve been working with modern web technologies for over 3 years, focusing on creating intuitive, accessible, and performant user experiences. My expertise lies in React, Next.js, and TypeScript.',
    'profile.what_i_do': 'What I Do',
    'profile.fullstack_dev': 'Full-stack web development',
    'profile.uiux_design': 'UI/UX design & prototyping',
    'profile.performance': 'Performance optimization',
    'profile.accessibility': 'Accessibility implementation',
    'profile.current_focus': 'Currently Focused On',
    'profile.focus_description': 'Building scalable web applications with Next.js 15, exploring advanced React patterns, and contributing to open-source projects. Always learning and staying up-to-date with the latest web technologies and design trends.',
    
    // Profile Fun Facts
    'profile.fun_fact_1_title': 'Finds flow in silence and deep focus',
    'profile.fun_fact_1_desc': 'Productivity powered by quiet concentration',
    'profile.fun_fact_2_title': 'Can debug with a cup of coffee',
    'profile.fun_fact_2_desc': 'Fuel for late-night problem solving',
    'profile.fun_fact_3_title': 'Believes in pixel-perfect UIs',
    'profile.fun_fact_3_desc': 'Details matter, always',
    // Projects Featured Section
    'projects.featured_title': 'Featured Projects',
    'projects.featured_subtitle': "Before we dive into my work, here's a quick glimpse of how I bring ideas to life",
    // Education Card Descriptions
    'education.bachelor_desc': 'Comprehensive study of computer science fundamentals, software engineering principles, and practical application development. Focused on modern web technologies, database systems, and software architecture.',
    'education.master_desc': 'Advanced studies in computer science with specialization in UI/UX Design & Usability Engineering. Research focus on accessibility and usability engineering.',
    // Skills Section
    'skills.title': 'Skills',
    'skills.subtitle': 'Technical Expertise',
    'skills.description': 'My technical skills and technologies I work with',
    'skills.frontend': 'Frontend',
    'skills.backend': 'Backend',
    'skills.tools': 'Tools & Cloud',
    'skills.design': 'Design',
    'skills.nextjs_desc': 'Full-stack React framework',
    'skills.react_desc': 'UI library for building interfaces',
    'skills.typescript_desc': 'Typed JavaScript',
    'skills.javascript_desc': 'Programming language',
    'skills.aws_desc': 'Cloud computing platform',
    'skills.git_desc': 'Version control system',
    'skills.graphql_desc': 'Query language for APIs',
    'skills.figma_desc': 'Design and prototyping tool',
    'skills.material_desc': 'Design system',
    'skills.nodejs_desc': 'JavaScript runtime',
    'skills.express_desc': 'Web application framework',
    'skills.supabase_desc': 'Open source Firebase alternative',
    'skills.mysql_desc': 'Relational database',
    
    // Experience Section
    'experience.title': 'Work Experience',
    'experience.software_engineer': 'Software Engineer',
    'experience.fullstack_developer': 'Fullstack Developer',
    'experience.frontend_developer': 'Frontend Developer',
    'experience.full_time': 'Full Time',
    'experience.working_student': 'Working Student',
    'experience.internship': 'Internship',
    
    // Projects Section
    'projects.title': 'Projects',
    'projects.subtitle': 'Featured Work',
    'projects.description': 'A showcase of my recent projects and technical achievements',
    'projects.view_project': 'View Project',
    'projects.case_study': 'Case Study',
    'projects.tech_stack': 'Tech Stack',
    'projects.kader_qui_gere_title': 'K-GÃ¨re Restaurant Management',
    'projects.kader_qui_gere_desc': 'A comprehensive Progressive Web App (PWA) for African restaurants with multi-restaurant support, real-time order management, and CFA currency handling.',
    'projects.devtrackr_title': 'DevTrackr',
    'projects.devtrackr_desc': 'A comprehensive developer productivity platform with task management, time tracking, and project analytics.',
    'projects.keurgui_title': 'Keur gui restaurant',
    'projects.keurgui_desc': 'Modern restaurant website with interactive menu, online ordering, and weekly specials showcase.',
    'projects.realestate_title': 'Real estate website',
    'projects.realestate_desc': 'Professional real estate platform with property listings and advanced search functionality.',
    'projects.agro_title': 'Agro trade services',
    'projects.agro_desc': 'Agricultural services website with product catalog and business solutions.',
    
    // Education Section
    'education.title': 'Education',
    'education.subtitle': 'Academic Background',
    'education.description': 'My educational journey and academic achievements',
    'education.master_degree': 'Master\'s Degree',
    'education.bachelor_degree': 'Bachelor\'s Degree',
    'education.applied_computer_science': 'Applied Computer Science',
    'education.uiux_design': 'UI/UX Design & Usability Engineering',
    'education.computer_science': 'Computer Science',
    'education.university': 'University',
    'education.graduation_date': 'Graduation Date',
    'education.gpa': 'GPA',
    'education.relevant_courses': 'Relevant Courses',
    'education.thesis': 'Thesis',
    'education.capstone': 'Capstone Project',
    
    // Achievement Section
    'achievement.title': 'Achievements',
    'achievement.subtitle': 'Certifications & Awards',
    'achievement.description': 'Professional certifications and notable achievements',
    'achievement.certifications': 'Certifications',
    'achievement.awards': 'Awards',
    'achievement.projects_completed': 'Projects Completed',
    'achievement.hours_coded': 'Hours Coded',
    'achievement.coffee_consumed': 'Coffee Consumed',
    
    // Contact Section
    'contact.title': 'Get In Touch',
    'contact.subtitle': 'Let\'s Work Together',
    'contact.description': 'I\'m always interested in new opportunities and exciting projects.',
    'contact.email': 'Email',
    'contact.linkedin': 'LinkedIn',
    'contact.github': 'GitHub',
    'contact.send_message': 'Send Message',
    'contact.connect_with_me': 'Connect with me',
    'contact.name': 'Name',
    'contact.message': 'Message',
    'contact.name_placeholder': 'Your name',
    'contact.email_placeholder': 'your.email@example.com',
    'contact.message_placeholder': 'Your message...',
    'contact.success_title': 'Message Sent!',
    'contact.success_message': 'Thank you for reaching out. I\'ll get back to you soon!',
    'contact.error_title': 'Error',
    'contact.error_message': 'Something went wrong. Please try again.',
    'contact.close': 'Close',
    'contact.lets_connect': 'Let\'s Connect',
    'contact.open_message': 'I\'m always open to discussing new opportunities, interesting projects, or just having a chat about technology and development.',
    'contact.email_me': 'Email Me',
    'contact.follow_me': 'Follow Me',
    'contact.linkedin_desc': 'Connect professionally',
    'contact.github_desc': 'Check out my code',
    'contact.ready_to_work': 'Ready to Work Together?',
    'contact.work_together_message': 'Whether you have a project in mind, want to discuss opportunities, or just want to say hello, I\'d love to hear from you.',
    'contact.send_email': 'Send Email',
    'contact.response_time': 'I typically respond within 24 hours',
    
    // Case Study
    'casestudy.back': 'Back to Portfolio',
    'casestudy.case_study': 'Case Study',
    'casestudy.completed_mvp': 'Completed MVP',
    'casestudy.full_stack': 'Full-Stack Development',
    'casestudy.summary': 'Project Summary',
    'casestudy.problem': 'The Problem',
    'casestudy.goals': 'Goals',
    'casestudy.tech_stack': 'Tech Stack',
    'casestudy.implementation': 'Technical Implementation',
    'casestudy.challenges': 'Challenges & Solutions',
    'casestudy.lessons': 'Key Lessons',
    'casestudy.future': 'Future Improvements',
    'casestudy.links': 'Project Links',
    
    // Common
    'common.view_live': 'View Live',
    'common.view_code': 'View Code',
    'common.more': 'More',
    'common.learn_more': 'Learn More',
    'common.close': 'Close',
  },
  fr: {
    // Navigation
    'nav.about': 'Ã propos',
    'nav.skills': 'CompÃ©tences',
    'nav.experience': 'ExpÃ©rience',
    'nav.projects': 'Projets',
    'nav.education': 'Ãducation',
    'nav.blog': 'Blog',
    'nav.contact': 'Contact',
    
    // Hero Section
    'hero.greeting': 'Bonjour, je suis',
    'hero.title': 'Abdallah Amamou Gueye',
    'hero.subtitle': 'DÃ©veloppeur Full-Stack',
    'hero.description': 'Je construis des applications web modernes et Ã©volutives avec un accent sur l\'expÃ©rience utilisateur et le code propre.',
    'hero.cta': 'Voir Mon Travail',
    'hero.scroll': 'DÃ©filer pour explorer',
    'hero.how_i_build': 'Comment Je Construis avec React & Next.js',
    'hero.engineering_approach': 'Mon approche d\'ingÃ©nierie, expliquÃ©e pour les recruteurs',
    
    // About Section
    'about.title': 'Ã Propos de Moi',
    'about.subtitle': 'DÃ©veloppeur Full-Stack PassionnÃ©',
    'about.description': 'Je suis un dÃ©veloppeur full-stack dÃ©vouÃ© avec une passion pour crÃ©er des solutions web innovantes. Je me spÃ©cialise dans React, Next.js et les technologies web modernes.',
    'about.experience': 'AnnÃ©es d\'ExpÃ©rience',
    'about.projects': 'Projets TerminÃ©s',
    'about.skills': 'Technologies MaÃ®trisÃ©es',
    
    // Profile Section
    'profile.software_engineer': 'IngÃ©nieur Logiciel',
    'profile.react_enthusiast': 'PassionnÃ© React',
    'profile.nextjs_developer': 'DÃ©veloppeur Next.js',
    'profile.building_experiences': 'Construire des ExpÃ©riences Exceptionnelles',
    'profile.description': 'Je crÃ©e des produits numÃ©riques avec des technologies modernes. SpÃ©cialisÃ© dans React, Next.js et les principes de design centrÃ© utilisateur.',
    'profile.about_me': 'Ã Propos de Moi',
    'profile.about_description': 'Je suis Abdallah Amadou Gueye, un ingÃ©nieur logiciel passionnÃ© du SÃ©nÃ©gal. Avec un Master en Informatique AppliquÃ©e, je me spÃ©cialise dans la Conception UI/UX et l\'IngÃ©nierie de l\'UtilisabilitÃ©.',
    'profile.experience_description': 'Je travaille avec les technologies web modernes depuis plus de 3 ans, en me concentrant sur la crÃ©ation d\'expÃ©riences utilisateur intuitives, accessibles et performantes. Mon expertise rÃ©side dans React, Next.js et TypeScript.',
    'profile.what_i_do': 'Ce Que Je Fais',
    'profile.fullstack_dev': 'DÃ©veloppement web full-stack',
    'profile.uiux_design': 'Conception UI/UX et prototypage',
    'profile.performance': 'Optimisation des performances',
    'profile.accessibility': 'ImplÃ©mentation de l\'accessibilitÃ©',
    'profile.current_focus': 'Actuellement ConcentrÃ© Sur',
    'profile.focus_description': 'Construire des applications web Ã©volutives avec Next.js 15, explorer les patterns React avancÃ©s et contribuer aux projets open-source. Toujours en train d\'apprendre et de rester Ã  jour avec les derniÃ¨res technologies web et tendances de design.',
    
    // Profile Fun Facts
    'profile.fun_fact_1_title': 'Trouve le flow dans le silence et la concentration profonde',
    'profile.fun_fact_1_desc': 'ProductivitÃ© alimentÃ©e par la concentration silencieuse',
    'profile.fun_fact_2_title': 'Peut dÃ©boguer avec une tasse de cafÃ©',
    'profile.fun_fact_2_desc': 'Carburant pour rÃ©soudre les problÃ¨mes tard dans la nuit',
    'profile.fun_fact_3_title': 'Croit en des interfaces pixel-perfect',
    'profile.fun_fact_3_desc': 'Les dÃ©tails comptent, toujours',
    // Projects Featured Section
    'projects.featured_title': 'Projets en vedette',
    'projects.featured_subtitle': "Avant de plonger dans mon travail, voici un aperÃ§u de la faÃ§on dont je donne vie aux idÃ©es",
    // Education Card Descriptions
    'education.bachelor_desc': "Ãtude approfondie des fondamentaux de l'informatique, des principes d'ingÃ©nierie logicielle et du dÃ©veloppement d'applications pratiques. Accent mis sur les technologies web modernes, les bases de donnÃ©es et l'architecture logicielle.",
    'education.master_desc': "Ãtudes avancÃ©es en informatique avec spÃ©cialisation en conception UI/UX & ingÃ©nierie de l'utilisabilitÃ©. Recherche axÃ©e sur l'accessibilitÃ© et l'ingÃ©nierie de l'utilisabilitÃ©.",
    // Skills Section
    'skills.title': 'CompÃ©tences',
    'skills.subtitle': 'Expertise Technique',
    'skills.description': 'Mes compÃ©tences techniques et les technologies avec lesquelles je travaille',
    'skills.frontend': 'Frontend',
    'skills.backend': 'Backend',
    'skills.tools': 'Outils & Cloud',
    'skills.design': 'Design',
    'skills.nextjs_desc': 'Framework React full-stack',
    'skills.react_desc': 'BibliothÃ¨que UI pour construire des interfaces',
    'skills.typescript_desc': 'JavaScript typÃ©',
    'skills.javascript_desc': 'Langage de programmation',
    'skills.aws_desc': 'Plateforme de cloud computing',
    'skills.git_desc': 'SystÃ¨me de contrÃ´le de version',
    'skills.graphql_desc': 'Langage de requÃªte pour APIs',
    'skills.figma_desc': 'Outil de design et prototypage',
    'skills.material_desc': 'SystÃ¨me de design',
    'skills.nodejs_desc': 'Runtime JavaScript',
    'skills.express_desc': 'Framework d\'application web',
    'skills.supabase_desc': 'Alternative open source Ã  Firebase',
    'skills.mysql_desc': 'Base de donnÃ©es relationnelle',
    
    // Experience Section
    'experience.title': 'ExpÃ©rience Professionnelle',
    'experience.software_engineer': 'IngÃ©nieur Logiciel',
    'experience.fullstack_developer': 'DÃ©veloppeur Full-Stack',
    'experience.frontend_developer': 'DÃ©veloppeur Frontend',
    'experience.full_time': 'Temps Plein',
    'experience.working_student': 'Ãtudiant SalariÃ©',
    'experience.internship': 'Stage',
    
    // Projects Section
    'projects.title': 'Projets',
    'projects.subtitle': 'Travaux SÃ©lectionnÃ©s',
    'projects.description': 'Un aperÃ§u de mes projets rÃ©cents et rÃ©alisations techniques',
    'projects.view_project': 'Voir le Projet',
    'projects.case_study': 'Ãtude de Cas',
    'projects.tech_stack': 'Stack Technique',
    'projects.kader_qui_gere_title': 'K-GÃ¨re Gestion Restaurant',
    'projects.kader_qui_gere_desc': 'Une application web progressive (PWA) complÃ¨te pour les restaurants africains avec support multi-restaurants, gestion des commandes en temps rÃ©el et gestion de la devise CFA.',
    'projects.devtrackr_title': 'DevTrackr',
    'projects.devtrackr_desc': 'Une plateforme complÃ¨te de productivitÃ© dÃ©veloppeur avec gestion des tÃ¢ches, suivi du temps et analyses de projet.',
    'projects.keurgui_title': 'Restaurant Keur Gui',
    'projects.keurgui_desc': 'Site web de restaurant moderne avec menu interactif, commande en ligne et prÃ©sentation des spÃ©ciaux hebdomadaires.',
    'projects.realestate_title': 'Site web immobilier',
    'projects.realestate_desc': 'Plateforme immobiliÃ¨re professionnelle avec annonces de propriÃ©tÃ©s et fonctionnalitÃ© de recherche avancÃ©e.',
    'projects.agro_title': 'Services agro-commerciaux',
    'projects.agro_desc': 'Site web de services agricoles avec catalogue de produits et solutions commerciales.',
    
    // Education Section
    'education.title': 'Ãducation',
    'education.subtitle': 'Parcours AcadÃ©mique',
    'education.description': 'Mon parcours Ã©ducatif et rÃ©alisations acadÃ©miques',
    'education.master_degree': 'Master',
    'education.bachelor_degree': 'Licence',
    'education.applied_computer_science': 'Informatique AppliquÃ©e',
    'education.uiux_design': 'Conception UI/UX & IngÃ©nierie de l\'UtilisabilitÃ©',
    'education.computer_science': 'Informatique',
    'education.university': 'UniversitÃ©',
    'education.graduation_date': 'Date de DiplÃ´me',
    'education.gpa': 'Moyenne',
    'education.relevant_courses': 'Cours Pertinents',
    'education.thesis': 'MÃ©moire',
    'education.capstone': 'Projet de Fin d\'Ãtudes',
    
    // Achievement Section
    'achievement.title': 'RÃ©alisations',
    'achievement.subtitle': 'Certifications & Prix',
    'achievement.description': 'Certifications professionnelles et rÃ©alisations notables',
    'achievement.certifications': 'Certifications',
    'achievement.awards': 'Prix',
    'achievement.projects_completed': 'Projets TerminÃ©s',
    'achievement.hours_coded': 'Heures de Code',
    'achievement.coffee_consumed': 'CafÃ© ConsommÃ©',
    
    // Contact Section
    'contact.title': 'Me Contacter',
    'contact.subtitle': 'Travaillons Ensemble',
    'contact.description': 'Je suis toujours intÃ©ressÃ© par de nouvelles opportunitÃ©s et des projets passionnants.',
    'contact.email': 'Email',
    'contact.linkedin': 'LinkedIn',
    'contact.github': 'GitHub',
    'contact.send_message': 'Envoyer le Message',
    'contact.connect_with_me': 'Me contacter',
    'contact.name': 'Nom',
    'contact.message': 'Message',
    'contact.name_placeholder': 'Votre nom',
    'contact.email_placeholder': 'votre.email@exemple.com',
    'contact.message_placeholder': 'Votre message...',
    'contact.success_title': 'Message EnvoyÃ© !',
    'contact.success_message': 'Merci de m\'avoir contactÃ©. Je vous rÃ©pondrai bientÃ´t !',
    'contact.error_title': 'Erreur',
    'contact.error_message': 'Quelque chose s\'est mal passÃ©. Veuillez rÃ©essayer.',
    'contact.close': 'Fermer',
    'contact.lets_connect': 'Connectons-nous',
    'contact.open_message': 'Je suis toujours ouvert Ã  discuter de nouvelles opportunitÃ©s, de projets intÃ©ressants, ou simplement d\'avoir une conversation sur la technologie et le dÃ©veloppement.',
    'contact.email_me': 'M\'envoyer un email',
    'contact.follow_me': 'Me suivre',
    'contact.linkedin_desc': 'Se connecter professionnellement',
    'contact.github_desc': 'Voir mon code',
    'contact.ready_to_work': 'PrÃªt Ã  travailler ensemble ?',
    'contact.work_together_message': 'Que vous ayez un projet en tÃªte, que vous souhaitiez discuter d\'opportunitÃ©s, ou simplement dire bonjour, j\'aimerais avoir de vos nouvelles.',
    'contact.send_email': 'Envoyer un email',
    'contact.response_time': 'Je rÃ©ponds gÃ©nÃ©ralement sous 24 heures',
    
    // How I Build Page
    'howibuild.title': 'Comment Je Construis',
    'howibuild.subtitle': 'Mon approche pour construire des applications web modernes, maintenables et Ã©volutives avec React & Next.js.',
    'howibuild.back': 'Retour au Portfolio',
    'howibuild.note': 'Note : Cette page met en Ã©vidence les concepts React & Next.js de base que j\'utilise dans ce portfolio. Mon expÃ©rience va bien au-delÃ  de ceux-ciâparlons-en si vous voulez en savoir plus !',
    'howibuild.component_title': 'Composant',
    'howibuild.component_desc': 'Un composant est une piÃ¨ce UI rÃ©utilisable et autonome. Dans React, tout est un composant, des boutons aux pages entiÃ¨res. Les composants vous aident Ã  organiser votre code et le rendre modulaire.',
    'howibuild.component_why': 'Montre que j\'Ã©cris du code modulaire et maintenable.',
    'howibuild.state_title': 'Ãtat',
    'howibuild.state_desc': 'L\'Ã©tat est des donnÃ©es qui changent au fil du temps dans votre application. Le hook useState de React vous permet d\'ajouter de l\'Ã©tat Ã  vos composants, permettant l\'interactivitÃ©.',
    'howibuild.state_why': 'Je peux construire des UIs interactives et dynamiques.',
    'howibuild.effect_title': 'Effet',
    'howibuild.effect_desc': 'Les effets vous permettent d\'exÃ©cuter du code en rÃ©ponse aux changements dans votre composant (comme rÃ©cupÃ©rer des donnÃ©es ou configurer un minuteur). Le hook useEffect de React est utilisÃ© pour cela.',
    'howibuild.effect_why': 'Je sais comment gÃ©rer les effets de bord et la logique asynchrone.',
    'howibuild.context_title': 'Contexte',
    'howibuild.context_desc': 'Le contexte fournit un moyen de passer des donnÃ©es Ã  travers l\'arbre des composants sans avoir Ã  passer manuellement les props Ã  chaque niveau.',
    'howibuild.context_why': 'Je peux construire des solutions de gestion d\'Ã©tat Ã©volutives.',
    'howibuild.memo_title': 'Memo & Callback',
    'howibuild.memo_desc': 'useMemo et useCallback aident Ã  optimiser les performances en mÃ©morisant les valeurs et fonctions pour Ã©viter les re-rendus inutiles.',
    'howibuild.memo_why': 'J\'Ã©cris des applications React performantes.',
    'howibuild.reducer_title': 'Reducer',
    'howibuild.reducer_desc': 'useReducer est utile pour gÃ©rer une logique d\'Ã©tat complexe qui implique plusieurs sous-valeurs ou quand l\'Ã©tat suivant dÃ©pend du prÃ©cÃ©dent.',
    'howibuild.reducer_why': 'Je peux gÃ©rer efficacement une logique d\'Ã©tat complexe.',
    'howibuild.props_title': 'Props',
    'howibuild.props_desc': 'Les props sont la faÃ§on dont vous passez des donnÃ©es du composant parent au composant enfant. Elles rendent vos composants flexibles et rÃ©utilisables.',
    'howibuild.props_why': 'Je construis des composants flexibles et rÃ©utilisables.',
    'howibuild.routing_title': 'Routage Next.js',
    'howibuild.routing_desc': 'Next.js utilise le routage basÃ© sur les fichiers. Chaque fichier dans le rÃ©pertoire \'app\' ou \'pages\' devient une route. Cela rend la navigation et l\'organisation du code simples.',
    'howibuild.routing_why': 'J\'organise les projets pour l\'Ã©volutivitÃ© et la navigation facile.',
    'howibuild.ssr_title': 'SSR & SSG',
    'howibuild.ssr_desc': 'Next.js vous permet de rendre les pages sur le serveur (SSR) ou au moment de la construction (SSG) pour de meilleures performances et SEO.',
    'howibuild.ssr_why': 'Je me soucie des performances et du SEO.',
    'howibuild.why_matters': 'Pourquoi c\'est important :',
    
    // Popup System
    'popup.profile_title': 'Section Profil',
    'popup.profile_desc': 'Une section hÃ©ro dynamique avec un effet machine Ã  Ã©crire et une prÃ©sentation professionnelle.',
    'popup.skills_title': 'Section CompÃ©tences',
    'popup.skills_desc': 'PrÃ©sentation interactive des compÃ©tences avec barres de progression animÃ©es et icÃ´nes technologiques.',
    'popup.career_title': 'Section CarriÃ¨re',
    'popup.career_desc': 'Chronologie d\'expÃ©rience professionnelle avec dÃ©tails de l\'entreprise et descriptions de rÃ´les.',
    'popup.coding_title': 'DÃ©mo de Codage',
    'popup.coding_desc': 'Animation de codage interactive montrant le workflow de dÃ©veloppement et les compÃ©tences techniques.',
    'popup.projects_title': 'Section Projets',
    'popup.projects_desc': 'PrÃ©sentation du portfolio avec cartes de projet, filtrage et Ã©lÃ©ments interactifs.',
    'popup.education_title': 'Section Ãducation',
    'popup.education_desc': 'PrÃ©sentation du parcours acadÃ©mique avec dÃ©tails des diplÃ´mes et rÃ©alisations.',
    'popup.achievement_title': 'Section RÃ©alisations',
    'popup.achievement_desc': 'PrÃ©sentation des accomplissements et certifications avec Ã©lÃ©ments visuels.',
    'popup.contact_title': 'Section Contact',
    'popup.contact_desc': 'Formulaire de contact et informations avec Ã©lÃ©ments interactifs et validation.',
    'popup.approach': 'Approche',
    
    // Case Study
    'casestudy.back': 'Retour au Portfolio',
    'casestudy.case_study': 'Ãtude de Cas',
    'casestudy.completed_mvp': 'MVP TerminÃ©',
    'casestudy.full_stack': 'DÃ©veloppement Full-Stack',
    'casestudy.summary': 'RÃ©sumÃ© du Projet',
    'casestudy.problem': 'Le ProblÃ¨me',
    'casestudy.goals': 'Objectifs',
    'casestudy.tech_stack': 'Stack Technique',
    'casestudy.implementation': 'ImplÃ©mentation Technique',
    'casestudy.challenges': 'DÃ©fis & Solutions',
    'casestudy.lessons': 'LeÃ§ons ClÃ©s',
    'casestudy.future': 'AmÃ©liorations Futures',
    'casestudy.links': 'Liens du Projet',
    
    // Common
    'common.view_live': 'Voir en Direct',
    'common.view_code': 'Voir le Code',
    'common.more': 'Plus',
    'common.learn_more': 'En Savoir Plus',
    'common.close': 'Fermer',
  }
};

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>('en');
  const [mounted, setMounted] = useState(false);

  // Initialize language on mount
  useEffect(() => {
    setMounted(true);
    const savedLanguage = localStorage.getItem('language') as Language;
    const initialLanguage = savedLanguage || 'en';
    setLanguageState(initialLanguage);
  }, []);

  // Update language and persist to localStorage
  const setLanguage = (newLanguage: Language) => {
    setLanguageState(newLanguage);
    localStorage.setItem('language', newLanguage);
  };

  // Toggle between languages
  const toggleLanguage = () => {
    const newLanguage = language === 'en' ? 'fr' : 'en';
    setLanguage(newLanguage);
  };

  // Translation function
  const t = (key: string): string => {
    return translations[language][key as keyof typeof translations[typeof language]] || key;
  };

  // Prevent hydration mismatch
  if (!mounted) {
    return <>{children}</>;
  }

  return (
    <LanguageContext.Provider value={{ language, toggleLanguage, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
}; 